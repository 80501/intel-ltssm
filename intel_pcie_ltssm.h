struct pciests1_intel {
	u32 nxttxseqnum:12;
	u32 lanestat:4;
	u32 dllretry:1;
	u32 replaynum:2;
	u32 lnkstat:4;
	u32 rsvd:1;
	u32 ltsmstate:8;
};

enum linkstat_intel {
	LINK_DOWN_I = 0b0000, // Link Down
	LINK_RETRAIN_I = 0b0001, // Link Retrain
	L1_I = 0b0011, // L1
	L2_I = 0b0100, // L2
	L3_I = 0b0101, // L3
	L0_I = 0b0111, // L0  (Link Up)
	L0S_I = 0b1000, // L0s (Transmit and Receive)
	TX_L0S_I = 0b1001, // L0s (Transmit only)
	RX_L0S_I = 0b1010, // L0s (Receive only)
};

// LTSM State (LTSMSTATE): Indicates the LTSM present state. Hex LTSSM States
char *ltsm_names[] =  {
	"00_DETIDLE",
	"01_DETRDY",
	"02_DETIDLEP1TOP2",
	"03_DETRDYP2TOP1",
	"04_DETRDYINP1",
	"05_DETRDYINP1EXE",
	"06_DETP2POLLSTART",
	"07_DETP1POLLSTART",
	"08_DETP2TOP0",
	"09_DETP1TOP0",
	"0A_ECPCMPRETRAIN",
	"0B_ECPCMFAILP0TOP2",
	"0C_DETP0TOP2",
	"0D_PMODECHANGE",
	"0E_ECPCMPCIE",
	"0F_ECPCMUSB3",
	"10_DET2POLLINP0",
	"11_POLLINGACTIVE",
	"12_POLLINGCOMPLIANCEMARGINCNT",
	"13_POLLINGCOMPLIANCE",
	"14_POLLINGCOMPLIANCESPEEDUP",
	"15_POLLINGCOMPLIANCESPEEDDN",
	"16_POLLINGCOMPLIANCESPEEDTXEIDLE",
	"17_POLLINGCOMPLIANCESPEEDRXEIDLE",
	"18_POLLINGCOMPLIANCESPEED",
	"19_POLLINGCOMPLIANCESPEEDDONE",
	"1A_POLLINGCOMPLIANCEEXIT",
	"1B_POLLINGCONFIGURATION",
	"1C_POLLINGTXEIDLE",
	"1D_POLLINGEND",
	"1E_POLLINGENDWAIT",
	"1F_LINKWIDTHSTART",
	"20_LINKWIDTHACCEPT",
	"21_LANENUMWAIT",
	"22_LANENUMACCEPT",
	"23_LANEDESKEW",
	"24_CONFIGCOMPLETE",
	"25_CONFIGIDLE",
	"26_LWNEXITRECOVERY",
	"27_CONFIGLPBKENTRY",
	"28_CONFIGLPBKLWSTART",
	"29_CONFIGLPBKSPEEDTXEIDLE",
	"2A_CONFIGLPBKSPEEDSTART",
	"2B_CONFIGLPBKSPEEDRXEIDLE",
	"2C_CONFIGLPBKSPEED",
	"2D_CONFIGLPBKREUTSKIP",
	"2E_CONFIGLPBKREUT",
	"2F_CONFIGLPBKEXITM",
	"30_CONFIGLPBKTXEIDLE",
	"31_LWNEXIT",
	"32_LWNLNK2DETECT",
	"33_L0",
	"34_TXL0SRXL0",
	"35_RXL0STXL0",
	"36_TXL0SRXL0S",
	"37_L1TXEIDLE", //L1.0
	"38_L1RCVEIDLE", //L1.0
	"39_L1PREENTRY", //L1.0
	"3A_L1ENTRY", //L1.0
	"3B_L1IDLE", //L1.0
	"3C_L1IDLEGEN2WAIT", //L1.0
	"3D_L1EXIT",  //L1.1
	"3E_L2TXEIDLE", //L1.1
	"3F_L2RCVEIDLE", //L1.2
	"40_L2IDLEWAIT", //L1.2
	"41_L2IDLERDY",
	"42_L2IDLE",
	"43_LOOPBACKENTRY",
	"44_LPBKACTIVEMTXSKP",
	"45_LPBKACTIVEMSKPDSKW",
	"46_LOOPBACKACTIVEM",
	"47_LPBKSLAVESPEEDTXEIDLE",
	"48_LPBKSLAVESPEEDRXEIDLE",
	"49_LPBKSLAVESPEED",
	"4A_LOOPBACKACTIVES",
	"4B_LOOPBACKCMMSKP",
	"4C_LOOPBACKCMM",
	"4D_LOOPBACKEXITM",
	"4E_LOOPBACKEXITS",
	"4F_LOOPBACKEXITL0",
	"50_LOOPBACKLNK2DETECT",
	"51_LOOPBACK2DETECT",
	"52_DISTX16TS1DIS",
	"53_DISTXEIDLE",
	"54_DISWAITSTART",
	"55_DISWAITGNT",
	"56_DISWAIT4TXMARGIN",
	"57_DISWAIT",
	"58_DIS2DETECT",
	"59_HOTRESETTS1",
	"5A_HOTRESETDONE",
	"5B_HOTRESETEIDLE",
	"5C_RECOVERYRCVRWAIT",
	"5D_RECOVERYRCVRMARGINCNT",
	"5E_RECOVERYRCVRLOCK",
	"5F_RECOVERYDESKEW",
	"60_RECOVERYRCVRCFG",
	"61_RECOVERYSPEED",
	"62_RECOVERYSPEEDTXEIDLE",
	"63_RECOVERYSPEEDRXEIDLE",
	"64_RECOVERYSPEEDREADY",
	"65_RECOVERYIDLE",
	"66_RECOVERYEXITDETECT",
	"67_RECOVERYLNK2DETECT",
	"68_RECOVERYEXITLPBK",
	"69_RECOVERYEXITL0",
	"6A_RECOVERYEXITDIS",
	"6B_RECOVERYEXITRST",
};

enum ltssm_states_intel {
	DETIDLE,
	DETRDY,
	DETIDLEP1TOP2,
	DETRDYP2TOP1,
	DETRDYINP1,
	DETRDYINP1EXE,
	DETP2POLLSTART,
	DETP1POLLSTART,
	DETP2TOP0,
	DETP1TOP0,
	ECPCMPRETRAIN,
	ECPCMFAILP0TOP2,
	DETP0TOP2,
	PMODECHANGE,
	ECPCMPCIE,
	ECPCMUSB3,
	DET2POLLINP0,
	POLLINGACTIVE,
	POLLINGCOMPLIANCEMARGINCNT,
	POLLINGCOMPLIANCE,
	POLLINGCOMPLIANCESPEEDUP,
	POLLINGCOMPLIANCESPEEDDN,
	POLLINGCOMPLIANCESPEEDTXEIDLE,
	POLLINGCOMPLIANCESPEEDRXEIDLE,
	POLLINGCOMPLIANCESPEED,
	POLLINGCOMPLIANCESPEEDDONE,
	POLLINGCOMPLIANCEEXIT,
	POLLINGCONFIGURATION,
	POLLINGTXEIDLE,
	POLLINGEND,
	POLLINGENDWAIT,
	LINKWIDTHSTART,
	LINKWIDTHACCEPT,
	LANENUMWAIT,
	LANENUMACCEPT,
	LANEDESKEW,
	CONFIGCOMPLETE,
	CONFIGIDLE,
	LWNEXITRECOVERY,
	CONFIGLPBKENTRY,
	CONFIGLPBKLWSTART,
	CONFIGLPBKSPEEDTXEIDLE,
	CONFIGLPBKSPEEDSTART,
	CONFIGLPBKSPEEDRXEIDLE,
	CONFIGLPBKSPEED,
	CONFIGLPBKREUTSKIP,
	CONFIGLPBKREUT,
	CONFIGLPBKEXITM,
	CONFIGLPBKTXEIDLE,
	LWNEXIT,
	LWNLNK2DETECT,
	L0,
	TXL0SRXL0,
	RXL0STXL0,
	TXL0SRXL0S,
	L1TXEIDLE,
	L1RCVEIDLE,
	L1PREENTRY,
	L1ENTRY,
	L1IDLE,
	L1IDLEGEN2WAIT,
	L1EXIT,
	L2TXEIDLE,
	L2RCVEIDLE,
	L2IDLEWAIT,
	L2IDLERDY,
	L2IDLE,
	LOOPBACKENTRY,
	LPBKACTIVEMTXSKP,
	LPBKACTIVEMSKPDSKW,
	LOOPBACKACTIVEM,
	LPBKSLAVESPEEDTXEIDLE,
	LPBKSLAVESPEEDRXEIDLE,
	LPBKSLAVESPEED,
	LOOPBACKACTIVES,
	LOOPBACKCMMSKP,
	LOOPBACKCMM,
	LOOPBACKEXITM,
	LOOPBACKEXITS,
	LOOPBACKEXITL0,
	LOOPBACKLNK2DETECT,
	LOOPBACK2DETECT,
	DISTX16TS1DIS,
	DISTXEIDLE,
	DISWAITSTART,
	DISWAITGNT,
	DISWAIT4TXMARGIN,
	DISWAIT,
	DIS2DETECT,
	HOTRESETTS1,
	HOTRESETDONE,
	HOTRESETEIDLE,
	RECOVERYRCVRWAIT,
	RECOVERYRCVRMARGINCNT,
	RECOVERYRCVRLOCK,
	RECOVERYDESKEW,
	RECOVERYRCVRCFG,
	RECOVERYSPEED,
	RECOVERYSPEEDTXEIDLE,
	RECOVERYSPEEDRXEIDLE,
	RECOVERYSPEEDREADY,
	RECOVERYIDLE,
	RECOVERYEXITDETECT,
	RECOVERYLNK2DETECT,
	RECOVERYEXITLPBK,
	RECOVERYEXITL0,
	RECOVERYEXITDIS,
	RECOVERYEXITRST,
};
